
Теперь, когда мы создали образ, давайте поделимся им! Чтобы поделиться образами Docker, 
вам необходимо использовать реестр Docker. Реестр по умолчанию - Docker Hub, откуда были взяты все используемые нами образы. 

## Создать репозиторий

Чтобы отправить образ, нам сначала нужно создать репозиторий в Docker Hub.

1. Перейдите в [Docker Hub](https://hub.docker.com) и при необходимости войдите в систему.

1. Нажмите кнопку **Create Repository**.

1. В качестве имени репозитория используйте `getting-started`. Убедитесь, что видимость установлена на `Public`.

1. Нажмите кнопку **Create**!

Если вы посмотрите на правую часть страницы, вы увидите раздел с названием **Docker commands**. 
Это пример команды, которую вам нужно будет запустить, чтобы отправить (`push`) в этот репозиторий.

![Docker command with push example](push-command.png){: style=width:75% }
{: .text-center }

## Толкаем наш образ

1. В командной строке попробуйте запустить команду push, которую вы видите 
в Docker Hub. Обратите внимание, что ваша команда будет использовать ваше 
пространство имен, а не "docker". 

    ```plaintext
    $ docker push docker/getting-started
    The push refers to repository [docker.io/docker/getting-started]
    An image does not exist locally with the tag: docker/getting-started
    ```

    Почему это не удалось? Команда `push` искала образ с именем `docker/getting-started`, но не нашла его. 
    Если вы запустите `docker image ls`, вы тоже его не увидите.

    Чтобы это исправить, нам нужно "пометить" ("tag") наш существующий образ, который мы создали, чтобы дать ему другое имя.

1. Войдите в Docker Hub, нажав кнопку "Sign In" в Docker Desktop или используя команду `docker login -u YOUR-USER-NAME`.

1. Используйте команду `docker tag`, чтобы присвоить образу `getting-started` новое имя. 
Обязательно замените `YOUR-USER-NAME` на свой идентификатор Docker (Docker ID).

    ```bash
    docker tag getting-started YOUR-USER-NAME/getting-started
    ```

1. Теперь повторите команду push. Если вы копируете значение из Docker Hub, вы можете удалить часть `tagname`, 
поскольку мы не добавляли тег к имени образа. Если вы не укажете тег, Docker будет использовать тег с именем `latest`.

    ```bash
    docker push YOUR-USER-NAME/getting-started
    ```

## Запуск нашего образа на новом экземпляре

Теперь, когда наш образ создан и помещен в реестр, давайте попробуем 
запустить наше приложение на совершенно новом экземпляре, который никогда 
не видел этот образ контейнера! Для этого мы будем использовать `Play with Docker`. 

1. Откройте в браузере [Play with Docker](https://labs.play-with-docker.com/).

1. Войдите в свою учетную запись Docker Hub.

1. После входа в систему нажмите ссылку "+ ADD NEW INSTANCE" на левой боковой панели. 
(Если вы его не видите, сделайте браузер немного шире.) Через несколько секунд в вашем браузере откроется окно терминала.

    ![Play with Docker add new instance](pwd-add-new-instance.png){: style=width:75% }
{: .text-center }


1. В терминале запустите только что загруженное приложение.

    ```bash
    docker run -dp 3000:3000 YOUR-USER-NAME/getting-started
    ```

    Вы должны увидеть, как образ вытягивается (pulled) и в конечном итоге запускается!

1. Нажмите на значок 3000, когда он появится, и вы увидите приложение со своими изменениями! 
   Ура! Если значок 3000 не отображается, вы можете нажать кнопку "Open Port" и ввести 3000.

## Резюме

В этом разделе мы узнали, как делиться нашими образами, помещая их в 
реестр. Затем мы перешли к совершенно новому экземпляру и смогли запустить 
только что отправленный образ. Это довольно часто встречается в конвейерах 
CI, где конвейер создает образ и отправляет его в реестр, а затем 
производственная среда может использовать последнюю версию образа. 

Теперь, когда мы это выяснили, давайте вернемся к тому, что мы заметили в 
конце последнего раздела. Напоминаем, что мы заметили, что при перезапуске 
приложения _мы потеряли все элементы списка дел_. 
Очевидно, что это не лучший пользовательский опыт, поэтому давайте узнаем, 
как мы можем сохранять данные после перезапуска!
